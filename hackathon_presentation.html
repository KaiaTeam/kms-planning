<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="./favicon.png" sizes="32x32" type="image/png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dongmin's Happy Home</title>
    <link href="https://db.onlinewebfonts.com/c/ee67acc5493a40eafc52a0b98e340340                                                                                                                                                             ?family=Un+Dotum" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body,
        .welcome-section h1,
        .welcome-section p,
        .group-box .legend,
        h1, p {
            font-family: "Un Dotum", "Dotum", 'Tahoma', 'MS Sans Serif', 'Segoe                                                                                                                                                              UI', Arial, sans-serif !important;
        }

        body {
            font-size: 16px;
            background: url('./jcaq7gsamypc1.png') center center / cover no-repe                                                                                                                                                             at fixed;
            background-color: #87CEEB;
            overflow-x: auto;
            min-height: 100vh;
            padding: 20px;
        }

        .window {
            position: absolute;
            top: 50%;
            left: 45%;
            transform: translate(-50%, -50%);
            font-family: 'Tahoma', 'MS Sans Serif', 'Segoe UI', Arial, sans-seri                                                                                                                                                             f;
            background: #ECE9D8;
            border: 1px outset #C0C0C0;
            width: 70vw;
            height: 90vh;
            box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3);
        }

        .title-bar {
            background: linear-gradient(to bottom, #0A5EA8 0%, #1084CE 3%, #1487                                                                                                                                                             D2 8%, #2090E4 100%);
            padding: 3px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #828282;
        }

        .title-bar-text {
            font-family: 'Tahoma', 'MS Sans Serif', 'Segoe UI', Arial, sans-seri                                                                                                                                                             f;
            color: white;
            font-weight: bold;
            font-size: 13px;
            margin-left: 8px;
            text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
        }

        .title-bar-controls {
            display: flex;
            gap: 2px;
            margin-right: 2px;
        }

        .title-bar-controls button {
            width: 16px;
            height: 14px;
            background: #C0C0C0;
            border: 1px outset #C0C0C0;
            font-size: 9px;
            line-height: 1;
            cursor: pointer;
        }

        .title-bar-controls button:hover {
            background: #E0E0E0;
        }

        .title-bar-controls button:active {
            border: 1px inset #C0C0C0;
        }

        .menubar {
            font-family: 'Tahoma', 'MS Sans Serif', 'Segoe UI', Arial, sans-seri                                                                                                                                                             f;
            background: #ECE9D8;
            border-bottom: 1px solid #919B9C;
            padding: 4px 8px;
            list-style: none;
            display: flex;
            font-size: 13px;
        }

        .menubar li {
            position: relative;
            padding: 6px 12px;
            cursor: pointer;
            border: 1px solid transparent;
        }

        .menubar li:hover {
            background: #B6BDD2;
            border-color: #0A246A;
        }

        .menubar .submenu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: #ECE9D8;
            border: 1px outset #C0C0C0;
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            z-index: 100;
            min-width: 120px;
        }

        .menubar li:hover .submenu {
            display: block;
        }

        .submenu li {
            display: block;
            padding: 4px 12px;
            border: none;
            background: none;
        }

        .submenu li:hover {
            background: #0A246A;
            color: white;
        }

        /* Window Body */
        .window-body {
            padding: 20px;
            background: #ECE9D8;
            /* min-height set dynamically on load */
            height: calc(100% - 100px);
            overflow-y: auto;
        }

        /* Content Sections */
        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        .content-section h2 {
            font-family: 'Tahoma', 'MS Sans Serif', 'Segoe UI', Arial, sans-seri                                                                                                                                                             f;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #000080;
        }

        .content-section p {
            line-height: 1.5;
            margin-bottom: 12px;
        }

        /* Buttons */
        .btn {
            background: #C0C0C0;
            border: 1px outset #C0C0C0;
            padding: 6px 16px;
            font-size: 13px;
            cursor: pointer;
            margin: 3px;
        }

        .btn:hover {
            background: #E0E0E0;
        }

        .btn:active {
            border: 1px inset #C0C0C0;
        }

        .btn.active {
            background: #B6BDD2;
            border: 1px inset #C0C0C0;
        }

        /* Frames/Groups */
        .group-box {
            border: 2px groove #C0C0C0;
            padding: 15px;
            margin: 15px 0;
            position: relative;
        }

        .group-box .legend {
            font-family: 'Tahoma', 'MS Sans Serif', 'Segoe UI', Arial, sans-seri                                                                                                                                                             f;
            position: absolute;
            top: -10px;
            left: 15px;
            background: #ECE9D8;
            padding: 0 8px;
            font-weight: bold;
            font-size: 13px;
        }

        /* Input fields */
        .input-field {
            border: 2px inset #C0C0C0;
            padding: 5px;
            font-size: 13px;
            background: white;
            width: 100%;
            margin: 5px 0;
        }

        /* List boxes */
        .list-box {
            border: 2px inset #C0C0C0;
            background: white;
            padding: 10px;
            min-height: 120px;
            margin: 8px 0;
        }

        /* Status bar */
        .status-bar {
            background: #ECE9D8;
            border-top: 1px solid #919B9C;
            padding: 5px 8px;
            font-size: 13px;
            display: flex;
            justify-content: space-between;
        }

        .status-section {
            border: 1px inset #C0C0C0;
            padding: 3px 8px;
            margin-right: 8px;
        }

        /* Welcome section */
        .welcome-section {
            text-align: center;
            margin: 25px 0;
        }

        .welcome-section h1 {
            font-size: 22px;
            color: #000080;
            margin-bottom: 15px;
        }

        /* Feature grid */
        .feature-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }

        .feature-item h3,
        .feature-item p,
        .feature-item,
        .group-box p {
            font-family: "Un Dotum", "Dotum", 'Tahoma', 'MS Sans Serif', 'Segoe                                                                                                                                                              UI', Arial, sans-serif !important;
        }

        .feature-item {
            flex: 1;
            min-width: 150px;
            border: 2px groove #C0C0C0;
            padding: 10px;
            text-align: center;
            background: #F0F0F0;
        }

        .feature-item h3 {
            font-size: 14px;
            color: #000080;
            margin-bottom: 8px;
        }

        /* Diary form */
        .diary-access {
            max-width: 300px;
            margin: 20px auto;
        }

        .diary-access .group-box {
            text-align: center;
        }

        /* Gallery placeholder */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .gallery-item {
            aspect-ratio: 1;
            background: #F0F0F0;
            border: 2px inset #C0C0C0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: #666;
        }

        /* About section */
        .about-grid {
            display: flex;
            gap: 15px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .about-item {
            flex: 1;
            min-width: 200px;
        }

        /* Scrollbars */
        .scrollable {
            max-height: 200px;
            overflow-y: auto;
            border: 2px inset #C0C0C0;
            background: white;
            padding: 5px;
        }

        /* Audio Player */
        .audio-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #ECE9D8;
            border: 2px outset #C0C0C0;
            padding: 8px;
            box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            min-width: 300px;
        }

        .audio-player .player-title {
            background: linear-gradient(to bottom, #0A5EA8 0%, #1084CE 3%, #1487                                                                                                                                                             D2 8%, #2090E4 100%);
            color: white;
            padding: 2px 6px;
            font-size: 11px;
            font-weight: bold;
            text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
            margin: -8px -8px 8px -8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .audio-player .minimize-btn {
            background: #C0C0C0;
            border: 1px outset #C0C0C0;
            width: 14px;
            height: 12px;
            font-size: 8px;
            cursor: pointer;
        }

        .audio-controls {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 5px;
        }

        .control-btn {
            background: #C0C0C0;
            border: 1px outset #C0C0C0;
            width: 24px;
            height: 20px;
            font-size: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            background: #E0E0E0;
        }

        .control-btn:active {
            border: 1px inset #C0C0C0;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 3px;
            font-size: 10px;
        }

        .progress-container {
            background: #C0C0C0;
            border: 1px inset #C0C0C0;
            height: 16px;
            margin: 5px 0;
            position: relative;
            cursor: pointer;
        }

        .progress-bar {
            background: linear-gradient(to bottom, #0A5EA8, #1084CE);
            height: 100%;
            width: 0%;
            transition: width 0.1s ease;
        }

        .progress-time {
            position: absolute;
            top: 1px;
            left: 3px;
            font-size: 9px;
            color: white;
            text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.8);
            pointer-events: none;
        }

        .track-info {
            font-size: 10px;
            color: #000080;
            margin-bottom: 3px;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        }

        .volume-slider {
            width: 60px;
            height: 3px;
            background: #C0C0C0;
            border: 1px inset #C0C0C0;
            outline: none;
            -webkit-appearance: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 12px;
            height: 12px;
            background: #808080;
            border: 1px outset #C0C0C0;
            cursor: pointer;
        }

        .audio-player.minimized {
            transform: translateY(calc(100% - 25px));
            transition: transform 0.3s ease;
        }

        .audio-player.minimized .audio-controls,
        .audio-player.minimized .progress-container,
        .audio-player.minimized .track-info,
        .audio-player.minimized .volume-control {
            display: none;
        }

        /* Icons */
        .icon {
            display: inline-block;
            width: 16px;
            height: 16px;
            background-size: contain;
            vertical-align: middle;
            margin-right: 5px;
        }

        .icon-home {
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/20                                                                                                                                                             00/svg" viewBox="0 0 16 16"><path d="M8 1l7 7h-2v7H3V8H1l7-7z" fill="%23000080"/                                                                                                                                                             ></svg>');
        }

        .icon-diary {
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/20                                                                                                                                                             00/svg" viewBox="0 0 16 16"><rect x="3" y="2" width="10" height="12" fill="%2380                                                                                                                                                             0000" stroke="%23000"/><line x1="5" y1="5" x2="11" y2="5" stroke="%23000"/><line                                                                                                                                                              x1="5" y1="7" x2="11" y2="7" stroke="%23000"/><line x1="5" y1="9" x2="9" y2="9"                                                                                                                                                              stroke="%23000"/></svg>');
        }

        .icon-gallery {
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/20                                                                                                                                                             00/svg" viewBox="0 0 16 16"><rect x="2" y="3" width="12" height="9" fill="%23008                                                                                                                                                             000" stroke="%23000"/><circle cx="5" cy="6" r="1" fill="%23FFD700"/><path d="M4                                                                                                                                                              10l3-2 2 1 3-2v3H4v-1z" fill="%23654321"/></svg>');
        }

        .icon-info {
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/20                                                                                                                                                             00/svg" viewBox="0 0 16 16"><circle cx="8" cy="8" r="7" fill="%23000080" stroke=                                                                                                                                                             "%23000"/><text x="8" y="12" text-anchor="middle" fill="white" font-size="10">i<                                                                                                                                                             /text></svg>');
        }

        .icon-guestbook {
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/20                                                                                                                                                             00/svg" viewBox="0 0 16 16"><rect x="2" y="3" width="12" height="10" fill="%234B                                                                                                                                                             0082" stroke="%23000"/><line x1="4" y1="6" x2="12" y2="6" stroke="%23FFF"/><line                                                                                                                                                              x1="4" y1="8" x2="10" y2="8" stroke="%23FFF"/><line x1="4" y1="10" x2="11" y2="                                                                                                                                                             10" stroke="%23FFF"/></svg>');
        }

        /* Guestbook Styles */
        .guestbook-form {
            margin: 20px 0;
        }

        .guestbook-form input,
        .guestbook-form textarea {
            width: 100%;
            margin: 8px 0;
        }

        .guestbook-form textarea {
            min-height: 100px;
            resize: vertical;
            font-family: "Un Dotum", "Dotum", 'Tahoma', 'MS Sans Serif', 'Segoe                                                                                                                                                              UI', Arial, sans-serif;
        }

        .guestbook-entry {
            background: #F0F0F0;
            border: 1px solid #C0C0C0;
            padding: 12px;
            margin: 10px 0;
        }

        .guestbook-entry-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding-bottom: 5px;
            border-bottom: 1px solid #C0C0C0;
        }

        .guestbook-title {
            font-weight: bold;
            color: #000080;
        }

        .guestbook-date {
            color: #666;
            font-size: 11px;
        }

        .guestbook-content {
            white-space: pre-wrap;
            word-wrap: break-word;
            line-height: 1.5;
        }

        .guestbook-locked {
            background: #F5F5F5;
            border: 1px dashed #999;
            padding: 20px;
            text-align: center;
            color: #666;
            font-style: italic;
        }

        .guestbook-password-form {
            display: inline-block;
            margin-top: 10px;
        }

        .guestbook-password-form input {
            width: 150px;
            margin-right: 5px;
        }

        .guestbook-unlock-btn {
            padding: 4px 10px;
            font-size: 11px;
        }

        .guestbook-lock-icon {
            font-size: 20px;
            margin-bottom: 10px;
            display: block;
        }

        .guestbook-list {
            max-height: 400px;
            overflow-y: auto;
            padding: 10px;
        }

        .guestbook-empty {
            text-align: center;
            color: #666;
            padding: 30px;
            font-style: italic;
        }

        .guestbook-pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
            gap: 5px;
        }

        .pagination-btn {
            background: #C0C0C0;
            border: 1px outset #C0C0C0;
            padding: 4px 8px;
            font-size: 12px;
            cursor: pointer;
            min-width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .pagination-btn:hover {
            background: #E0E0E0;
        }

        .pagination-btn:active {
            border: 1px inset #C0C0C0;
        }

        .pagination-btn.current {
            background: #B6BDD2;
            border: 1px inset #C0C0C0;
            font-weight: bold;
        }

        .pagination-btn:disabled {
            background: #F0F0F0;
            color: #999;
            cursor: not-allowed;
            border: 1px inset #C0C0C0;
        }

        .pagination-info {
            font-size: 11px;
            color: #666;
            margin: 0 10px;
            white-space: nowrap;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .window {
                margin: 10px;
            }

            .feature-grid {
                flex-direction: column;
            }

            .about-grid {
                flex-direction: column;
            }
        }

        /* Notification animation */
        @keyframes bounce {
            0%, 20%, 60%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            40% {
                transform: translateX(-50%) translateY(-10px);
            }
            80% {
                transform: translateX(-50%) translateY(-5px);
            }
        }
    </style>
</head>
<body>
<div class="window">
    <div class="title-bar">
        <div class="title-bar-text">dongmin-happy-home.exe</div>
        <div class="title-bar-controls">
            <button title="ìµœì†Œí™”">_</button>
            <button title="ìµœëŒ€í™”">â–¡</button>
            <button title="ë‹«ê¸°">Ã—</button>
        </div>
    </div>

    <ul class="menubar">
        <li>íŒŒì¼
            <ul class="submenu">
                <li onclick="showSection('home')">í™ˆìœ¼ë¡œ ì´ë™</li>
                <li>ì•„ë¬´ê²ƒë„ ì—†ì–´ìš”</li>
                <li>---</li>
                <li>í‚¤í‚¤í‚¤</li>
            </ul>
        </li>
        <li>í¸ì§‘
            <ul class="submenu">
                <li>ë‹¹ì‹ ì˜</li>
                <li>ì´ì•¼ê¸°ë„</li>
                <li>ë„ˆë¬´ ê¶ê¸ˆí•´ìš”</li>
            </ul>
        </li>
        <li>ë³´ê¸°
            <ul class="submenu">
                <li>ì´ê²ƒì €ê²ƒ</li>
                <li>ë³´ê³ ì‹¶ì–´ìš”</li>
            </ul>
        </li>
        <li>ë„ì›€ë§
            <ul class="submenu">
                <li>ë„ì›€ì´ í•„ìš”í•˜ë©´</li>
                <li>ì—°ë½ ì£¼ì„¸ìš”</li>
            </ul>
        </li>
    </ul>

    <div class="window-body">
        <!-- Navigation Buttons -->
        <div style="margin-bottom: 20px; border-bottom: 1px solid #919B9C; paddi                                                                                                                                                             ng-bottom: 15px;">
            <button class="btn active" onclick="showSection('home')">
                <span class="icon icon-home"></span>í™ˆ
            </button>
            <button class="btn" onclick="showSection('diary')">
                <span class="icon icon-diary"></span>ì¼ê¸°ì¥
            </button>
            <button class="btn" onclick="showSection('gallery')" style="display:                                                                                                                                                              none">
                <span class="icon icon-gallery"></span>ê°¤ëŸ¬ë¦¬
            </button>
            <button class="btn" onclick="showSection('introduce')">
                <span class="icon icon-info"></span>ì†Œê°œ
            </button>
            <button class="btn" onclick="showSection('guestbook')">
                <span class="icon icon-guestbook"></span>ë°©ëª…ë¡
            </button>
        </div>

        <!-- Home Section -->
        <div id="home" class="content-section active">
            <div class="welcome-section">
                <h1>ğŸ  ì²œë™ë¯¼ì˜ í–‰ë³µí•œ í™ˆ ğŸŒŸ</h1>
                <p>ì¸í„°ë„· ìƒì˜ ì œ ì‘ì€ ê°œì¸ê³µê°„ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!</p>
            </div>

            <div class="group-box">
                <div class="legend">ì‚¬ì´íŠ¸ ì†Œê°œ</div>
                <p>ì•ˆë…•í•˜ì„¸ìš”! ì´ê³³ì€ ì œ ê°œì¸ í™ˆí˜ì´ì§€ì…ë‹ˆë‹¤.</p>
                <p>ì²œì²œíˆ ë‘˜ëŸ¬ë³´ì‹œê³  ì¦ê±°ìš´ ì‹œê°„ ë˜ì„¸ìš”! ğŸ¸</p>
            </div>

            <div class="group-box">
                <div class="legend">ì£¼ìš” ë©”ë‰´</div>
                <div class="feature-grid">
                    <div class="feature-item">
                        <h3>ğŸ“” ì¼ê¸°ì¥</h3>
                        <p>ë¹„ë°€ë²ˆí˜¸ë¡œ ë³´í˜¸ë˜ëŠ” ê°œì¸ì ì¸ ê³µê°„</p>
                    </div>
                    <div class="feature-item">
                        <h3>ğŸ‘‹ ìê¸°ì†Œê°œ</h3>
                        <p>ì €ì— ëŒ€í•´ ì•Œì•„ë³´ì„¸ìš”</p>
                    </div>
                    <div class="feature-item">
                        <h3>ğŸ“ ë°©ëª…ë¡</h3>
                        <p>ë°©ë¬¸ìë“¤ì´ ë‚¨ê¸´ ë©”ì‹œì§€</p>
                    </div>
                </div>
            </div>

            <div class="group-box">
                <div class="legend">ìµœê·¼ ì—…ë°ì´íŠ¸</div>
                <div class="list-box">
                    <p>â€¢ 2025.08.04 - í™ˆí˜ì´ì§€ ê°œì„¤</p>
                    <p>â€¢ 2025.08.05 - ë°°ê²½ìŒì•… ì¶”ê°€ (Copyright Free!!)</p>
                    <p>â€¢ 2025.08.24 - ë°©ëª…ë¡ ê¸°ëŠ¥ ì¶”ê°€</p>
                </div>
            </div>
        </div>

        <!-- Diary Section -->
        <div id="diary" class="content-section">
            <h2>ğŸ“” ê°œì¸ ì¼ê¸°ì¥</h2>

            <div class="diary-access">
                <div class="group-box">
                    <div class="legend">ğŸ” ì ‘ê·¼ ì œí•œ</div>
                    <p>ì´ ì˜ì—­ì€ ë¹„ë°€ë²ˆí˜¸ë¡œ ë³´í˜¸ë©ë‹ˆë‹¤.</p>
                    <br>
                    <label for="diaryPassword">ë¹„ë°€ë²ˆí˜¸:</label>
                    <input type="password" id="diaryPassword" class="input-field                                                                                                                                                             " placeholder="íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                    <br><br>
                    <button class="btn" onclick="checkDiaryPassword()">ë¡œê·¸ì¸</b                                                                                                                                                             utton>
                </div>
            </div>

            <div class="group-box">
                <div class="legend">ì¼ê¸° ë¯¸ë¦¬ë³´ê¸°</div>
                <div class="scrollable">
                    <p style="color: #666; font-style: italic;">
                        ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì‹œë©´ ê°œì¸ ì¼ê¸°ë¥¼ ì—´ëŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br                                                                                                                                                             >
                        ì—¬ê¸°ì—ëŠ” ì¼ìƒì˜ ì†Œì†Œí•œ ì´ì•¼ê¸°ë“¤ê³¼ ê°œì¸ì ì¸ ìƒê°ë“¤ì´ ë‹´ê²¨                                                                                                                                                             ìˆìŠµë‹ˆë‹¤.<br><br>
                    </p>
                </div>
            </div>
        </div>

        <!-- Gallery Section -->
        <div id="gallery" class="content-section">
            <h2>ğŸ–¼ï¸ ì‚¬ì§„ ê°¤ëŸ¬ë¦¬</h2>

            <div class="group-box">
                <div class="legend">ì•¨ë²” ëª©ë¡</div>
                <div class="list-box">
                    <p>ğŸ“ (ì¤€ë¹„ì¤‘...)</p>
                    <p>ğŸ“ (ì¤€ë¹„ì¤‘...)</p>
                    <p>ğŸ“ (ì¤€ë¹„ì¤‘...)</p>
                    <p>ğŸ“ (ì¤€ë¹„ì¤‘...)</p>
                </div>
            </div>

            <div class="group-box">
                <div class="legend">ë¯¸ë¦¬ë³´ê¸°</div>
                <div class="gallery-grid">
                    <div class="gallery-item">ì´ë¯¸ì§€ 1<br>ì¤€ë¹„ì¤‘</div>
                    <div class="gallery-item">ì´ë¯¸ì§€ 2<br>ì¤€ë¹„ì¤‘</div>
                    <div class="gallery-item">ì´ë¯¸ì§€ 3<br>ì¤€ë¹„ì¤‘</div>
                    <div class="gallery-item">ì´ë¯¸ì§€ 4<br>ì¤€ë¹„ì¤‘</div>
                    <div class="gallery-item">ì´ë¯¸ì§€ 5<br>ì¤€ë¹„ì¤‘</div>
                    <div class="gallery-item">ì´ë¯¸ì§€ 6<br>ì¤€ë¹„ì¤‘</div>
                </div>
            </div>

            <p style="text-align: center; color: #666; font-style: italic;">
                ê³§ ì•„ë¦„ë‹¤ìš´ ì‚¬ì§„ë“¤ë¡œ ì±„ì›Œì§ˆ ì˜ˆì •ì…ë‹ˆë‹¤! ğŸ“¸
            </p>
        </div>

        <!-- Introduce Section -->
        <div id="introduce" class="content-section">
            <h2>ì†Œê°œ</h2>

            <div class="about-grid">
                <div class="about-item">
                    <div class="group-box">
                        <div class="legend">ê¸°ë³¸ ì •ë³´</div>
                        <p><strong>ì´ë¦„:</strong> ì²œë™ë¯¼</p>
                        <p><strong>í˜„ì¬:</strong> ì„¤ë¡œì¸ì—ì„œ ì»¤ë¨¸ìŠ¤ & í’€í•„ë¨¼íŠ¸                                                                                                                                                              ì‹œìŠ¤í…œ(OMS/WMS) ì„ ê°œë°œí•˜ê³  ìˆì–´ìš”</p>
                        <p><strong>ì´ì „ì—ëŠ”:</strong> êµ­ë‚´ OTT íšŒì‚¬ë“¤ì˜ ì‹¤ì‹œê°„                                                                                                                                                              ìŠ¤íŠ¸ë¦¬ë° ì„œë¹„ìŠ¤ ë° ëª¨ë‹ˆí„°ë§/ê´‘ê³  ì‹œìŠ¤í…œ, ìŠ¤í„°ë””ì¹´í˜ ê´€ë¦¬ ì‹œìŠ¤í…œ ë“±ì„ ë§Œë“¤ì—ˆì–´ìš”<                                                                                                                                                             /p>
                        <p><strong>ì¢‹ì•„í•˜ëŠ” ê²ƒ:</strong> ì´ê²ƒì €ê²ƒ ê°œë°œ, ê²Œì„, ëŸ°                                                                                                                                                             ë‹</p>
                    </div>
                </div>

                <div class="about-item">
                    <div class="group-box">
                        <div class="legend">ê´€ì‹¬ì‚¬</div>
                        <div class="scrollable">
                            <p>ğŸ’» <strong>ê°œë°œ</strong><br>
                                ì›¹ ë§ê³ ë„ ì´ê²ƒì €ê²ƒ ê°œë°œí•´ì„œ ë§Œë“œëŠ”ê±¸ ì¢‹ì•„í•©ë‹ˆë‹¤.                                                                                                                                                             </p>

                            <p>ğŸ® <strong>ê²Œì„</strong><br>
                                ë‹¤ì–‘í•œ ì¥ë¥´ì˜ ì´ëŸ°ì €ëŸ° ê²Œì„ë“¤ì„ ì¢‹ì•„í•´ìš”.</p>

                            <p>ğŸƒ <strong>ëŸ°ë‹</strong><br>
                                ì•„ë¬´ ìƒê° ì—†ì´ ë°¤ì— ë›°ëŠ”ê±¸ ì¢‹ì•„í•´ìš”.</p>

                            <p>ğŸ¸ <strong>ë‹¤ë¥¸ ì‚¬ëŒë“¤</strong><br>
                                ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œ ê´€ì‹¬ì´ ë§ì€ ê²ƒ ê°™ì•„ìš” </p>
                            <p>ì—¬ê¸¸ ì–´ë–»ê²Œ ì°¾ì•„ì˜¨ê±°ì§€? ğŸ¤”</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="group-box">
                <div class="legend">ì´ ì‚¬ì´íŠ¸ì— ëŒ€í•´</div>
                <p>ì´ í™ˆí˜ì´ì§€ëŠ” <strong>ì œê°€ ê°œì¸ì ìœ¼ë¡œ í¸ì•ˆí•¨ì„ ëŠë¼ëŠ”</strong                                                                                                                                                             > ìŠ¤íƒ€ì¼ê³¼ ê°ì„±ìœ¼ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.</p>
                <p>ì œ ê°œì¸ ì‚¬ì´íŠ¸ë‹ˆê¹ìš” íˆíˆ</p>
                <p>í¸í•˜ê²Œ ì—°ë½ ë¶€íƒë“œë ¤ìš”.</p>
                <br>
                <p style="color: #000080; font-weight: bold;">
                    ë°©ë¬¸í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!
                </p>
            </div>

            <div class="group-box">
                <div class="legend">ì—°ë½ì²˜</div>
                <p>ğŸ“§ ì´ë©”ì¼: aehdals9900@gmail.com</p>
                <p>ğŸ“§ telegram: @ZizonDongmin</p>
            </div>
        </div>

        <!-- Guestbook Section -->
        <div id="guestbook" class="content-section">
            <h2>ğŸ“ ë°©ëª…ë¡</h2>

            <div class="group-box">
                <div class="legend">ë°©ëª…ë¡ ì‘ì„±</div>
                <div class="guestbook-form">
                    <label for="guestbookName">ì‘ì„±ì:</label>
                    <input type="text" id="guestbookName" class="input-field" pl                                                                                                                                                             aceholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" maxlength="50">

                    <label for="guestbookTitle">ì œëª©:</label>
                    <input type="text" id="guestbookTitle" class="input-field" p                                                                                                                                                             laceholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" maxlength="100">

                    <label for="guestbookContent">ë‚´ìš©:</label>
                    <textarea id="guestbookContent" class="input-field" placehol                                                                                                                                                             der="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"
                              maxlength="1000"></textarea>

                    <label for="guestbookPassword">ë¹„ë°€ë²ˆí˜¸ (ë‚´ìš© ë³´í˜¸):</label>
                    <input type="password" id="guestbookPassword" class="input-f                                                                                                                                                             ield" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„¤ì •í•˜ë©´ ë¹„ë°€ê¸€ì´ ë©ë‹ˆë‹¤">
                    <p style="font-size: 11px; color: #666; margin: 5px 0;">â€» ë¹„                                                                                                                                                             ë°€ë²ˆí˜¸ë¥¼ ì„¤ì •í•˜ë©´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì•„ëŠ” ì‚¬ëŒë§Œ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

                    <div style="text-align: center; margin-top: 15px;">
                        <button class="btn" onclick="submitGuestbook()">âœï¸ ì‘ì„±í•˜                                                                                                                                                             ê¸°</button>
                        <button class="btn" onclick="clearGuestbookForm()">ğŸ”„ ì´ˆ                                                                                                                                                             ê¸°í™”</button>
                    </div>
                </div>
            </div>

            <div class="group-box">
                <div class="legend">ë°©ëª…ë¡ ëª©ë¡</div>
                <div class="guestbook-list" id="guestbookList">
                    <div class="guestbook-empty">ë°©ëª…ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
                </div>
                <div class="guestbook-pagination" id="guestbookPagination" style                                                                                                                                                             ="display: none;">
                    <!-- Pagination controls will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <div class="status-bar">
        <div class="status-section">ì•ˆë…•!!</div>
        <div class="status-section" id="current-time"></div>
        <div class="status-section">dongmin-home v1.0</div>
    </div>
</div>

<!-- Audio Player -->
<div class="audio-player" id="audioPlayer">
    <div class="player-title">
        <span>ğŸµ Music Player</span>
        <button class="minimize-btn" onclick="togglePlayer()" title="ìµœì†Œí™”">_</                                                                                                                                                             button>
    </div>

    <div class="track-info" id="trackInfo">â™ª Glossy City - imataco</div>

    <div class="progress-container" onclick="seekAudio(event)">
        <div class="progress-bar" id="progressBar"></div>
        <div class="progress-time" id="progressTime">00:00 / 00:00</div>
    </div>

    <div class="audio-controls">
        <button class="control-btn" onclick="prevTrack()" title="ì´ì „">â®</button                                                                                                                                                             >
        <button class="control-btn" onclick="togglePlay()" id="playBtn" title="                                                                                                                                                             ì¬ìƒ/ì¼ì‹œì •ì§€">â–¶</button>
        <button class="control-btn" onclick="nextTrack()" title="ë‹¤ìŒ">â­</button                                                                                                                                                             >
        <button class="control-btn" onclick="stopAudio()" title="ì •ì§€">â¹</button                                                                                                                                                             >
    </div>

    <div class="volume-control">
        <span>ğŸ”Š</span>
        <input type="range" class="volume-slider" id="volumeSlider" min="0" max=                                                                                                                                                             "100" value="70"
               onchange="setVolume(this.value)">
        <span id="volumeDisplay">70%</span>
    </div>
</div>

<audio id="bgAudio" preload="auto">
    <!-- ì†ŒìŠ¤ëŠ” JavaScriptì—ì„œ ë™ì ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤ -->
</audio>

<script>
    // Prevent shrink: set initial min-height
    document.addEventListener('DOMContentLoaded', function () {
        const bodyEl = document.querySelector('.window-body');
        const initialHeight = bodyEl.offsetHeight;
        bodyEl.style.minHeight = initialHeight + 'px';
    });

    function showSection(sectionName) {
        // Hide all sections
        const sections = document.querySelectorAll('.content-section');
        sections.forEach(section => {
            section.classList.remove('active');
        });

        // Remove active class from all buttons
        const buttons = document.querySelectorAll('.btn');
        buttons.forEach(button => {
            button.classList.remove('active');
        });

        // Show selected section
        document.getElementById(sectionName).classList.add('active');

        // Add active class to clicked button
        event.target.closest('.btn').classList.add('active');
    }

    async function checkDiaryPassword() {
        const password = document.getElementById('diaryPassword').value;
        document.getElementById('diaryPassword').value = '';

        if (password === '') {
            alert('ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
            return;
        }

        try {
            const response = await fetch('https://dongmin.monster/api/access', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({password: password})
            });

            const data = await response.json();

            if (data.success) {
                location.href = `${data.pageName}.html`;
            } else {
                alert('âŒ ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.\në‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
            }
        } catch (error) {
            console.error('API í˜¸ì¶œ ì˜¤ë¥˜:', error);
            alert('âŒ ì„œë²„ ì—°ê²° ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\nì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.                                                                                                                                                             ');
        }
    }

    // Enter key support for password
    document.getElementById('diaryPassword').addEventListener('keypress', functi                                                                                                                                                             on (e) {
        if (e.key === 'Enter') {
            checkDiaryPassword();
        }
    });

    // Update time in status bar
    function updateTime() {
        const now = new Date();
        const timeString = now.toLocaleTimeString('ko-KR');
        document.getElementById('current-time').textContent = timeString;
    }

    updateTime();
    setInterval(updateTime, 1000);

    // Add Windows XP sound effects (optional)
    function playClickSound() {
    }

    // Add click sound to buttons
    document.querySelectorAll('.btn').forEach(button => {
        button.addEventListener('click', playClickSound);
    });

    // Audio Player Functions
    const audio = document.getElementById('bgAudio');
    const playBtn = document.getElementById('playBtn');
    const progressBar = document.getElementById('progressBar');
    const progressTime = document.getElementById('progressTime');
    const volumeSlider = document.getElementById('volumeSlider');
    const volumeDisplay = document.getElementById('volumeDisplay');
    const trackInfo = document.getElementById('trackInfo');

    let isPlaying = false;
    let isPlayerMinimized = false;

    // í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì •ì˜
    const playlist = [
        {file: './689417__imataco__glossy-city.wav', title: 'Glossy City', artis                                                                                                                                                             t: 'imataco'},
        {file: './698560__imataco__underground.wav', title: 'Underground', artis                                                                                                                                                             t: 'imataco'},
        {file: './698562__imataco__chill.wav', title: 'Chill', artist: 'imataco'                                                                                                                                                             },
        {file: './624740__imataco__beat-1.m4a', title: 'Beat 1', artist: 'imatac                                                                                                                                                             o'},
        {file: './690701__imataco__what-do-i-call-this.wav', title: 'What Do I C                                                                                                                                                             all This', artist: 'imataco'},
        {file: './Komm, sÃ¼sser Tod.mp3', title:'Komm, sÃ¼sser Tod', artist: 'Anno                                                                                                                                                              Hideaki' }
    ];

    let currentTrackIndex = 0;
    let shuffledPlaylist = [];

    // í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì…”í”Œ í•¨ìˆ˜
    function shufflePlaylist() {
        shuffledPlaylist = [...Array(playlist.length).keys()];
        for (let i = shuffledPlaylist.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [shuffledPlaylist[i], shuffledPlaylist[j]] = [shuffledPlaylist[j], s                                                                                                                                                             huffledPlaylist[i]];
        }
        currentTrackIndex = 0;
        console.log('ğŸ”€ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ê°€ ëœë¤ìœ¼ë¡œ ì„ì˜€ìŠµë‹ˆë‹¤!');
        loadCurrentTrack();
    }

    // í˜„ì¬ íŠ¸ë™ ë¡œë“œ
    function loadCurrentTrack() {
        const track = playlist[shuffledPlaylist[currentTrackIndex]];
        audio.src = track.file;
        trackInfo.textContent = `â™ª ${track.title} - ${track.artist}`;

        // íŠ¸ë™ ë¡œë“œ í›„ ìë™ ì¬ìƒ ì‹œë„
        audio.addEventListener('canplaythrough', function () {
            if (isPlaying) {
                audio.play().catch(() => {
                });
            }
        }, {once: true});
    }

    // Initialize audio
    audio.volume = 0.7;

    // ì‹œì‘ì‹œ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì…”í”Œ
    shufflePlaylist();

    // ì¦‰ì‹œ ì¬ìƒ ì‹œë„ (ì—¬ëŸ¬ ë°©ë²•ìœ¼ë¡œ)
    function attemptAutoplay() {
        // ë°©ë²• 1: ì§ì ‘ ì¬ìƒ ì‹œë„
        audio.play().then(() => {
            playBtn.textContent = 'â¸';
            isPlaying = true;
            console.log('ğŸµ ìŒì•…ì´ ìë™ì¬ìƒë©ë‹ˆë‹¤!');
        }).catch(() => {
            console.log('ğŸ”‡ ë¸Œë¼ìš°ì € ì •ì±…ìœ¼ë¡œ ìë™ì¬ìƒì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.');
            // ì‚¬ìš©ìì—ê²Œ ì¬ìƒ ë²„íŠ¼ í´ë¦­ ì•ˆë‚´
            showPlayNotification();
        });
    }

    let notificationShown = false;

    // ì¬ìƒ ì•ˆë‚´ ì•Œë¦¼
    function showPlayNotification() {
        if (notificationShown) return;
        notificationShown = true;
        const notification = document.createElement('div');
        notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: #FFE4B5;
                border: 2px outset #C0C0C0;
                padding: 10px 20px;
                z-index: 9999;
                font-size: 13px;
                box-shadow: 4px 4px 8px rgba(0,0,0,0.3);
                animation: bounce 0.5s ease-in-out;
            `;
        notification.innerHTML = 'ğŸµ ìŒì•…ì„ ë“¤ìœ¼ë ¤ë©´ ì¬ìƒ ë²„íŠ¼(â–¶)ì„ í´ë¦­í•˜ì„¸ìš”!                                                                                                                                                              ğŸµ';
        document.body.appendChild(notification);

        // 5ì´ˆ í›„ ìë™ ì œê±°
        setTimeout(() => {
            if (notification.parentNode) {
                notification.style.opacity = '0';
                notification.style.transition = 'opacity 0.5s';
                setTimeout(() => notification.remove(), 500);
            }
        }, 5000);
    }

    // í˜ì´ì§€ ë¡œë“œ ì¦‰ì‹œ ì¬ìƒ ì‹œë„
    window.addEventListener('load', () => {
        setTimeout(attemptAutoplay, 100);
    });

    // í˜ì´ì§€ ë¡œë“œë˜ìë§ˆìë„ ì‹œë„
    attemptAutoplay();

    // ì‚¬ìš©ìì˜ ì²« ìƒí˜¸ì‘ìš© ê°ì§€ (í´ë¦­, í‚¤ë³´ë“œ, ë§ˆìš°ìŠ¤ ì›€ì§ì„ ë“±)
    ['click', 'keydown', 'mousemove', 'touchstart'].forEach(event => {
        document.addEventListener(event, function () {
            if (!isPlaying) {
                attemptAutoplay();
            }
        }, {once: true});
    });

    function togglePlay() {
        if (isPlaying) {
            audio.pause();
            playBtn.textContent = 'â–¶';
            isPlaying = false;
        } else {
            audio.play().then(() => {
                playBtn.textContent = 'â¸';
                isPlaying = true;
            }).catch(e => {
                console.log('Audio play failed:', e);
            });
        }
    }

    function stopAudio() {
        audio.pause();
        audio.currentTime = 0;
        playBtn.textContent = 'â–¶';
        isPlaying = false;
        updateProgress();
    }

    function prevTrack() {
        currentTrackIndex = (currentTrackIndex - 1 + shuffledPlaylist.length) %                                                                                                                                                              shuffledPlaylist.length;
        loadCurrentTrack();
        if (isPlaying) {
            audio.play().catch(() => {
            });
        }
    }

    function nextTrack() {
        currentTrackIndex = (currentTrackIndex + 1) % shuffledPlaylist.length;
        loadCurrentTrack();
        isPlaying = true;
        audio.play().catch(() => {
        });
    }

    function setVolume(value) {
        audio.volume = value / 100;
        volumeDisplay.textContent = value + '%';
    }

    function seekAudio(event) {
        const progressContainer = event.currentTarget;
        const clickX = event.offsetX;
        const width = progressContainer.offsetWidth;
        const duration = audio.duration;

        if (duration) {
            const seekTime = (clickX / width) * duration;
            audio.currentTime = seekTime;
        }
    }

    function updateProgress() {
        if (audio.duration) {
            const progress = (audio.currentTime / audio.duration) * 100;
            progressBar.style.width = progress + '%';

            const currentMin = Math.floor(audio.currentTime / 60);
            const currentSec = Math.floor(audio.currentTime % 60);
            const durationMin = Math.floor(audio.duration / 60);
            const durationSec = Math.floor(audio.duration % 60);

            progressTime.textContent =
                String(currentMin).padStart(2, '0') + ':' + String(currentSec).p                                                                                                                                                             adStart(2, '0') +
                ' / ' +
                String(durationMin).padStart(2, '0') + ':' + String(durationSec)                                                                                                                                                             .padStart(2, '0');
        }
    }

    function togglePlayer() {
        const player = document.getElementById('audioPlayer');
        isPlayerMinimized = !isPlayerMinimized;

        if (isPlayerMinimized) {
            player.classList.add('minimized');
        } else {
            player.classList.remove('minimized');
        }
    }

    // Audio event listeners
    audio.addEventListener('timeupdate', updateProgress);
    audio.removeEventListener('ended', nextTrack);
    audio.addEventListener('ended', nextTrack);

    audio.addEventListener('loadedmetadata', updateProgress);

    // ì˜¤ë””ì˜¤ ì¬ìƒ ì„±ê³µ ì‹œ
    audio.addEventListener('play', () => {
        playBtn.textContent = 'â¸';
        isPlaying = true;
    });

    // ì˜¤ë””ì˜¤ ì¼ì‹œì •ì§€ ì‹œ
    audio.addEventListener('pause', () => {
        playBtn.textContent = 'â–¶';
        isPlaying = false;
    });

    // Keyboard shortcuts
    document.addEventListener('keydown', function (e) {
        if (e.target.tagName.toLowerCase() !== 'input' && e.target.tagName.toLow                                                                                                                                                             erCase() !== 'textarea') {
            switch (e.key) {
                case ' ':
                    e.preventDefault();
                    togglePlay();
                    break;
                case 'ArrowLeft':
                    audio.currentTime = Math.max(0, audio.currentTime - 10);
                    break;
                case 'ArrowRight':
                    audio.currentTime = Math.min(audio.duration, audio.currentTi                                                                                                                                                             me + 10);
                    break;
            }
        }
    });

    // Guestbook Functions
    let guestbookEntries = [];
    let unlockedEntries = {}; // Store unlocked entry IDs
    let currentPage = 0;
    let totalPages = 0;
    let pageSize = 10;
    let totalCount = 0;

    // Load guestbook entries on page load
    window.addEventListener('load', () => {
        loadGuestbook(0);
    });

    async function loadGuestbook(page = 0, size = 10) {
        try {
            const response = await fetch(`https://dongmin.monster/api/guestbook?                                                                                                                                                             page=${page}&size=${size}`, {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                }
            });

            if (response.ok) {
                const data = await response.json();
                guestbookEntries = data.entries || [];
                currentPage = data.currentPage || 0;
                totalPages = data.totalPages || 0;
                totalCount = data.totalCount || 0;
                pageSize = data.pageSize || 10;

                displayGuestbook();
                displayPagination();
            } else {
                document.getElementById('guestbookList').innerHTML =
                    '<div class="guestbook-empty">ğŸ˜… ë°©ëª…ë¡ ì„œë²„ê°€ ì ì‹œ ì ê²€ì¤‘ì…                                                                                                                                                             ë‹ˆë‹¤!<br>ì¡°ê¸ˆ í›„ì— ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</div>';
                document.getElementById('guestbookPagination').style.display = '                                                                                                                                                             none';
            }
        } catch (error) {
            console.error('ë°©ëª…ë¡ ë¡œë“œ ì˜¤ë¥˜:', error);
            document.getElementById('guestbookList').innerHTML =
                '<div class="guestbook-empty">ğŸ”Œ ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”!<b                                                                                                                                                             r>ë°©ëª…ë¡ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>';
            document.getElementById('guestbookPagination').style.display = 'none                                                                                                                                                             ';
        }
    }

    function displayGuestbook() {
        const listContainer = document.getElementById('guestbookList');

        if (guestbookEntries.length === 0) {
            listContainer.innerHTML = '<div class="guestbook-empty">ì•„ì§ ì‘ì„±ëœ                                                                                                                                                              ë°©ëª…ë¡ì´ ì—†ìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ ë°©ëª…ë¡ì„ ë‚¨ê²¨ì£¼ì„¸ìš”!</div>';
            return;
        }

        listContainer.innerHTML = '';
        guestbookEntries.forEach((entry, index) => {
            const entryDiv = document.createElement('div');
            entryDiv.className = 'guestbook-entry';

            // Check if entry is locked and not yet unlocked
            const isLocked = entry.isPrivate && !unlockedEntries[entry.id];

            if (isLocked) {
                const authorName = entry.name || 'ìµëª…';
                entryDiv.innerHTML = `
                    <div class="guestbook-entry-header">
                        <span class="guestbook-title">ğŸ”’ ${escapeHtml(entry.titl                                                                                                                                                             e)}</span>
                        <span class="guestbook-date">${formatDate(entry.createdA                                                                                                                                                             t)}</span>
                    </div>
                    <div style="font-size: 12px; color: #666; margin-bottom: 8px                                                                                                                                                             ;">ì‘ì„±ì: ${escapeHtml(authorName)}</div>
                    <div class="guestbook-locked">
                        <span class="guestbook-lock-icon">ğŸ”</span>
                        <p>ì´ ê¸€ì€ ë¹„ë°€ë²ˆí˜¸ë¡œ ë³´í˜¸ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>
                        <div class="guestbook-password-form">
                            <input type="password" class="input-field"
                                   id="unlock-${entry.id}"
                                   placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥"
                                   onkeypress="if(event.key==='Enter') unlockEnt                                                                                                                                                             ry('${entry.id}')">
                            <button class="btn guestbook-unlock-btn"
                                    onclick="unlockEntry('${entry.id}')">ğŸ”“ ì—´ê¸°                                                                                                                                                             </button>
                        </div>
                    </div>
                `;
            } else {
                const authorName = entry.name || 'ìµëª…';
                entryDiv.innerHTML = `
                    <div class="guestbook-entry-header">
                        <span class="guestbook-title">${entry.isPrivate ? 'ğŸ”“ '                                                                                                                                                              : ''}${escapeHtml(entry.title)}</span>
                        <span class="guestbook-date">${formatDate(entry.createdA                                                                                                                                                             t)}</span>
                    </div>
                    <div style="font-size: 12px; color: #666; margin-bottom: 8px                                                                                                                                                             ;">ì‘ì„±ì: ${escapeHtml(authorName)}</div>
                    <div class="guestbook-content">${escapeHtml(entry.content ||                                                                                                                                                              unlockedEntries[entry.id])}</div>
                `;
            }

            listContainer.appendChild(entryDiv);
        });
    }

    async function unlockEntry(entryId) {
        const passwordInput = document.getElementById(`unlock-${entryId}`);
        const password = passwordInput.value;

        if (!password) {
            alert('ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
            return;
        }

        try {
            const response = await fetch(`https://dongmin.monster/api/guestbook/                                                                                                                                                             ${entryId}/unlock`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({password: password})
            });

            if (response.ok) {
                const data = await response.json();
                unlockedEntries[entryId] = data.content;

                // Update the specific entry in the array
                const entry = guestbookEntries.find(e => e.id === entryId);
                if (entry) {
                    entry.content = data.content;
                }

                displayGuestbook();
            } else {
                alert('ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.');
                passwordInput.value = '';
            }
        } catch (error) {
            console.error('ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ì˜¤ë¥˜:', error);
            alert('ì„œë²„ ì—°ê²° ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
        }
    }

    async function submitGuestbook() {
        const name = document.getElementById('guestbookName').value.trim();
        const title = document.getElementById('guestbookTitle').value.trim();
        const content = document.getElementById('guestbookContent').value.trim()                                                                                                                                                             ;
        const password = document.getElementById('guestbookPassword').value;

        if (!name || !title || !content) {
            alert('ì´ë¦„, ì œëª©, ë‚´ìš©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”!');
            return;
        }

        // Rate limiting check
        const rateLimitResult = checkRateLimit();
        if (!rateLimitResult.allowed) {
            alert(rateLimitResult.message);
            return;
        }

        // Input validation and sanitization
        const validationResult = validateGuestbookInput(name, title, content, pa                                                                                                                                                             ssword);
        if (!validationResult.isValid) {
            alert(validationResult.message);
            return;
        }

        try {
            const response = await fetch('https://dongmin.monster/api/guestbook'                                                                                                                                                             , {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    name: name,
                    title: title,
                    content: content,
                    password: password,
                    isPrivate: password ? true : false
                })
            });

            if (response.ok) {
                alert('ë°©ëª…ë¡ì´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!');
                clearGuestbookForm();
                loadGuestbook(0); // Reload the guestbook from first page
            } else {
                const error = await response.json();
                alert('ë°©ëª…ë¡ ì‘ì„± ì‹¤íŒ¨: ' + (error.message || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'                                                                                                                                                             ));
            }
        } catch (error) {
            console.error('ë°©ëª…ë¡ ì‘ì„± ì˜¤ë¥˜:', error);
            alert('ì„œë²„ ì—°ê²° ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
        }
    }

    function clearGuestbookForm() {
        document.getElementById('guestbookName').value = '';
        document.getElementById('guestbookTitle').value = '';
        document.getElementById('guestbookContent').value = '';
        document.getElementById('guestbookPassword').value = '';
    }

    function escapeHtml(text) {
        const map = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#039;'
        };
        return text.replace(/[&<>"']/g, m => map[m]);
    }

    function formatDate(dateString) {
        const date = new Date(dateString);
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const day = String(date.getDate()).padStart(2, '0');
        const hours = String(date.getHours()).padStart(2, '0');
        const minutes = String(date.getMinutes()).padStart(2, '0');
        return `${year}.${month}.${day} ${hours}:${minutes}`;
    }

    // Security functions
    function validateGuestbookInput(name, title, content, password) {
        // Length validation
        if (name.length > 50) {
            return {isValid: false, message: 'ì´ë¦„ì€ 50ì ì´í•˜ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.'}                                                                                                                                                             ;
        }
        if (title.length > 100) {
            return {isValid: false, message: 'ì œëª©ì€ 100ì ì´í•˜ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.'                                                                                                                                                             };
        }
        if (content.length > 1000) {
            return {isValid: false, message: 'ë‚´ìš©ì€ 1000ì ì´í•˜ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.                                                                                                                                                             '};
        }
        if (password && password.length > 100) {
            return {isValid: false, message: 'ë¹„ë°€ë²ˆí˜¸ëŠ” 100ì ì´í•˜ë¡œ ì…ë ¥í•´ì£¼ì„¸                                                                                                                                                             ìš”.'};
        }

        // Check for dangerous patterns instead of restricting characters
        const allText = `${name} ${title} ${content}`;
        const dangerousPattern = /<script|<\/script|javascript:|<iframe|<object|                                                                                                                                                             <embed|<link|<meta|<style|<form|onload=|onerror=|onclick=/i;

        if (dangerousPattern.test(allText)) {
            return {isValid: false, message: 'ë³´ì•ˆìƒ í—ˆìš©ë˜ì§€ ì•ŠëŠ” ë‚´ìš©ì´ í¬í•¨ë˜                                                                                                                                                             ì–´ ìˆìŠµë‹ˆë‹¤.'};
        }

        // Malicious pattern detection
        const maliciousPatterns = [
            /<script/i,
            /<\/script>/i,
            /javascript:/i,
            /onclick=/i,
            /onerror=/i,
            /onload=/i,
            /eval\(/i,
            /alert\(/i,
            /document\./i,
            /window\./i,
            /<iframe/i,
            /<object/i,
            /<embed/i,
            /vbscript:/i,
            /data:text\/html/i,
            /^\s*\{/,  // JSON-like patterns
            /^\s*\[/,  // Array-like patterns
            /union.*select/i,
            /select.*from/i,
            /drop.*table/i,
            /delete.*from/i,
            /insert.*into/i,
            /update.*set/i,
            /exec\(/i,
            /system\(/i
        ];

        for (const pattern of maliciousPatterns) {
            if (pattern.test(allText)) {
                return {isValid: false, message: 'ë³´ì•ˆìƒ í—ˆìš©ë˜ì§€ ì•ŠëŠ” ë‚´ìš©ì´ í¬                                                                                                                                                             í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.'};
            }
        }

        // URL/Link spam detection
        const urlPattern = /(https?:\/\/|www\.|[a-zA-Z0-9-]+\.[a-zA-Z]{2,})/gi;
        const urlMatches = allText.match(urlPattern);
        if (urlMatches && urlMatches.length > 2) {
            return {isValid: false, message: 'ë§í¬ëŠ” ìµœëŒ€ 2ê°œê¹Œì§€ë§Œ í¬í•¨í•  ìˆ˜ ìˆ                                                                                                                                                             ìŠµë‹ˆë‹¤.'};
        }

        // Repeated character spam detection
        if (/(.)\1{9,}/.test(allText)) {
            return {isValid: false, message: 'ê°™ì€ ë¬¸ìë¥¼ 10ë²ˆ ì´ìƒ ì—°ì†ìœ¼ë¡œ ì‚¬                                                                                                                                                             ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.'};
        }

        // Excessive special character detection
        const specialCharCount = (allText.match(/[!@#$%^&*()_+\-=\[\]{}|;':"<>?/                                                                                                                                                             .,~`]/g) || []).length;
        const totalLength = allText.length;
        if (totalLength > 0 && (specialCharCount / totalLength) > 0.3) {
            return {isValid: false, message: 'íŠ¹ìˆ˜ë¬¸ìê°€ ë„ˆë¬´ ë§ì´ í¬í•¨ë˜ì–´ ìˆìŠµ                                                                                                                                                             ë‹ˆë‹¤.'};
        }

        return {isValid: true, message: ''};
    }

    // Rate limiting
    let lastSubmissionTime = 0;
    const SUBMISSION_COOLDOWN = 30000; // 30 seconds

    function checkRateLimit() {
        const now = Date.now();
        if (now - lastSubmissionTime < SUBMISSION_COOLDOWN) {
            const remainingTime = Math.ceil((SUBMISSION_COOLDOWN - (now - lastSu                                                                                                                                                             bmissionTime)) / 1000);
            return {allowed: false, message: `ë„ë°° ë°©ì§€ë¥¼ ìœ„í•´ ${remainingTime}                                                                                                                                                             ì´ˆ í›„ì— ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.`};
        }
        lastSubmissionTime = now;
        return {allowed: true, message: ''};
    }

    function displayPagination() {
        const paginationContainer = document.getElementById('guestbookPagination                                                                                                                                                             ');

        if (totalPages <= 1) {
            paginationContainer.style.display = 'none';
            return;
        }

        paginationContainer.style.display = 'flex';
        paginationContainer.innerHTML = '';

        // Previous button
        const prevBtn = document.createElement('button');
        prevBtn.className = 'pagination-btn';
        prevBtn.innerHTML = 'â—€';
        prevBtn.disabled = currentPage === 0;
        prevBtn.onclick = () => {
            if (currentPage > 0) {
                loadGuestbook(currentPage - 1, pageSize);
            }
        };
        paginationContainer.appendChild(prevBtn);

        // Page info
        const pageInfo = document.createElement('div');
        pageInfo.className = 'pagination-info';
        const startEntry = currentPage * pageSize + 1;
        const endEntry = Math.min(startEntry + guestbookEntries.length - 1, tota                                                                                                                                                             lCount);
        pageInfo.textContent = `${startEntry}-${endEntry} / ${totalCount}`;
        paginationContainer.appendChild(pageInfo);

        // Page numbers (show max 5 pages around current)
        const maxVisiblePages = 5;
        let startPage = Math.max(0, currentPage - Math.floor(maxVisiblePages / 2                                                                                                                                                             ));
        let endPage = Math.min(totalPages - 1, startPage + maxVisiblePages - 1);

        // Adjust startPage if we're near the end
        if (endPage - startPage < maxVisiblePages - 1) {
            startPage = Math.max(0, endPage - maxVisiblePages + 1);
        }

        // First page and ellipsis if needed
        if (startPage > 0) {
            const firstPageBtn = document.createElement('button');
            firstPageBtn.className = 'pagination-btn';
            firstPageBtn.textContent = '1';
            firstPageBtn.onclick = () => loadGuestbook(0, pageSize);
            paginationContainer.appendChild(firstPageBtn);

            if (startPage > 1) {
                const ellipsis = document.createElement('span');
                ellipsis.className = 'pagination-info';
                ellipsis.textContent = '...';
                paginationContainer.appendChild(ellipsis);
            }
        }

        // Page number buttons
        for (let i = startPage; i <= endPage; i++) {
            const pageBtn = document.createElement('button');
            pageBtn.className = `pagination-btn ${i === currentPage ? 'current'                                                                                                                                                              : ''}`;
            pageBtn.textContent = (i + 1).toString();
            pageBtn.onclick = () => loadGuestbook(i, pageSize);
            paginationContainer.appendChild(pageBtn);
        }

        // Last page and ellipsis if needed
        if (endPage < totalPages - 1) {
            if (endPage < totalPages - 2) {
                const ellipsis = document.createElement('span');
                ellipsis.className = 'pagination-info';
                ellipsis.textContent = '...';
                paginationContainer.appendChild(ellipsis);
            }

            const lastPageBtn = document.createElement('button');
            lastPageBtn.className = 'pagination-btn';
            lastPageBtn.textContent = totalPages.toString();
            lastPageBtn.onclick = () => loadGuestbook(totalPages - 1, pageSize);
            paginationContainer.appendChild(lastPageBtn);
        }

        // Next button
        const nextBtn = document.createElement('button');
        nextBtn.className = 'pagination-btn';
        nextBtn.innerHTML = 'â–¶';
        nextBtn.disabled = currentPage >= totalPages - 1;
        nextBtn.onclick = () => {
            if (currentPage < totalPages - 1) {
                loadGuestbook(currentPage + 1, pageSize);
            }
        };
        paginationContainer.appendChild(nextBtn);
    }

    // Enable dragging of the window
    (function () {
        const winEl = document.querySelector('.window');
        const handle = winEl.querySelector('.title-bar');
        let isDragging = false;
        let startX, startY;

        handle.addEventListener('mousedown', function (e) {
            e.preventDefault();
            // Freeze current transform and switch to pixel-based positioning
            const rect = winEl.getBoundingClientRect();
            winEl.style.left = rect.left + 'px';
            winEl.style.top = rect.top + 'px';
            winEl.style.transform = 'none';
            // Begin dragging
            isDragging = true;
            startX = e.clientX - rect.left;
            startY = e.clientY - rect.top;
            document.body.style.userSelect = 'none';
        });

        document.addEventListener('mousemove', function (e) {
            if (!isDragging) return;
            winEl.style.left = (e.clientX - startX) + 'px';
            winEl.style.top = (e.clientY - startY) + 'px';
        });

        document.addEventListener('mouseup', function () {
            isDragging = false;
            document.body.style.userSelect = '';
        });
    })();
</script>
</body>
</html>
